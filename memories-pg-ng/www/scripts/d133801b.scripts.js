"use strict";angular.module("memoriesApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngTouch","onsen.directives"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("memoriesApp").controller("MainCtrl",["$scope",function(a){a.data={},a.fn={},a.data.menuTip="向右滑动或点击左上角按钮打开菜单.",a.data.emptyInfo="照片列表为空，请赶快去拍照吧!"}]),angular.module("memoriesApp").controller("MenuCtrl",["$scope","$log","cameraService","storeService",function(a,b,c,d){a.data={},a.fn={},a.fn.takePhoto=function(){c.takePhoto(function(a,c){b.log(a?"Take photo error!"+c:"Take photo success! The data is: "+c),d.addPhoto(c)})}}]),angular.module("memoriesApp").service("cameraService",function(){function a(a){navigator.camera.getPicture(function(b){a(null,b)},function(b){a(!0,b)},{quality:50,destinationType:Camera.DestinationType.FILE_URI})}return{takePhoto:a}}),angular.module("memoriesApp").service("storeService",function(){function a(a,b){a?d.save({uri:a},function(){b(null)}):b(!0,"URI is empty!")}function b(a){d.all(function(b){a(null,b)})}function c(a,b){a?d.remove(a,function(){b(null)}):b(!0,"key is empty!")}var d=new Lawnchair({name:"photoList",record:"photo"},function(){});return{addPhoto:a,getPhotoList:b,removePhoto:c}}),function(){function a(){setTimeout(function(){navigator.splashscreen.hide()},2e3),angular.bootstrap(document,["memoriesApp"])}function b(a){"Android"==device.platform&&a.preventDefault()}function c(a){var b=window.confirm("ȷ��Ҫ�˳�����?");b&&(a.preventDefault(),navigator.app.exitApp())}document.addEventListener("deviceready",a,!1),document.addEventListener("touchstart",function(a){b(a)},!1),document.addEventListener("backbutton",c,!1)}();